<% layout("layouts/boilerplate") %><!--this works as if you were using Reactjs, everything here loads up in the boilerplate file-->
    <div id="map" style="width: 100%; height: 500px;"></div>
    <h1>All Campgrounds!</h1>
    <div>
        <a href="/campgrounds/new">Add Camp</a>
    </div>

    <% for(let campground of campgrounds){ %>
    <div class="card mb-3">
        <div class="row">
            <div class="col-md-4">
                <% if(campground.images.length){ %>
                    <img class="img-fluid" alt="image" src="<%= campground.images[0].url %>">
                <% }else{ %>
                    <img class="img-fluid" alt="default" src="https://res.cloudinary.com/do6jumhzx/image/upload/v1720471413/cld-sample-2.jpg"><!--we shoud provide a default image-->
                <% } %>
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title"><%= campground.title %></h5>
                    <p class="card-text"><%= campground.description %></p>
                    <p class="card-text">
                        <small class="text-muted"><%= campground.location %></small>
                    </p>
                    <a class="btn btn-primary" href="/campgrounds/<%= campground._id %>">View</a>
                </div>
            </div>
        </div>
    </div>
    
    <%  }%>

    <script>
        const maptilerApiKey = '<%- process.env.MAPTILER_API_KEY %>';
        
        //const campgrounds = { features };
        //dont pay attention if it shows red, vs code doesnt accept this sintax because it thins that ejs only works in html but you can actualy put it inside an script
      
        //these variables will be handled in the file below
        //this doesnt work
        //THIS MEANS THT THE BIG MAP AT THE HOMEPAGE WONT WORK AS EXPECTED
    </script>
    <script src="/js/clusterMap.js"></script>
    
